<!DOCTYPE html>

<html>

  <head>
    <title>404 Page</title>
    <link rel="stylesheet" href="blue.css">
    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro' rel='stylesheet' type='text/css'>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script type="text/javascript">
    var first_flag = true;
  function blink() {
    var blinks = document.getElementsByTagName('blink');
    for (var i = blinks.length - 1; i >= 0; i--) {
      var s = blinks[i];
      s.style.visibility = (s.style.visibility === 'visible') ? 'hidden' : 'visible';
    }
    window.setTimeout(blink, 1000);
  }
  if (document.addEventListener) document.addEventListener("DOMContentLoaded", blink, false);
  else if (window.addEventListener) window.addEventListener("load", blink, false);
  else if (window.attachEvent) window.attachEvent("onload", blink);
  else window.onload = blink;

  document.onkeydown = function(event) {
    document.onkeydown = function() {};
    var key_press = String.fromCharCode(event.keyCode);
    var key_code = event.keyCode;
    if (key_code !== 17 && key_code !== 18) {
      $(".error_message").fadeOut();
      window.setTimeout(loading_page, 1000);
      if (key_code === 8) {
        window.setTimeout(function() {history.go(-1);}, 9000);
      } else {
      // Go to home page
        window.setTimeout(function() {window.location.href = "http://hkn.eecs.berkeley.edu";}, 9000);
      }
    }
  }
 
  var fade_count = 0;

  function add_dot() {
    document.getElementById("reboot").innerHTML += ".";
    window.setTimeout(add_dot, 1000);
  }

  function loading_page() {
    fade_count += 1;
    if (fade_count <= 2) {
      $(".loading").fadeIn();
      window.setTimeout(loading_out,1000);
    }
  }

  function loading_out() {
    $(".loading").fadeOut();
    if (fade_count < 2) {
      window.setTimeout(loading_page, 1000);
    } else {
      window.setTimeout(reboot_in, 1000);
    }
  }

  function reboot_in() {
    $(".rebooting").fadeIn();
    document.getElementById("reboot").innerHTML = "Rebooting the internet";
    window.setTimeout(add_dot, 1000);
  }
</script>
  </head>

  <body>
  <div class="loading">
    Loading...
  </div>
  <div class="rebooting">
    <span id="reboot">Rebooting the internet...</span>
  </div>

  <div class="error_message">
   <h1>404 &nbsp; :(</h1>
   A fatal exception has occurred at 0xDEADBEEF.
   <br>
   The requested page could not be loaded.
   <br><br>
   Press the backspace key to return to the previous page
   <br>
   or press any key to continue <blink>_</blink>
  </div>
  </body>


</html>
