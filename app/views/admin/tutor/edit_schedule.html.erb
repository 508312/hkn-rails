<% stylesheet_link_tag "tutor.css" %>
<h1>Edit Tutoring Schedule</h1>
<form>
<input type="checkbox" id="only_available" name="only_available" checked="checked" /><label id="only_available">Restrict to officers who are available at each time</label>
<table id="edit_schedule" style="display:block">
<% @rows.each do |row| %>
	<tr>
	<% if row == "Hours" %>
		<th>Hours</th>
		<% @days.each do |day| %>
		<th class="slot_table_header"><%= day %></th>
		<% end %>
	<% else %>
		<td  rowspan="2"><%= format_hour_slot row.to_i %></td>
		<% @days.each do |day| %>
		<td  class="slot cory">
			<select name="<%= formatslot day, row + "C" %>" multiple="multiple">
				<% if @preferred[formatslot day, row] %>
				<optgroup name="Preferred">Preferred
				<% @preferred[formatslot day, row].each do |tutor| %>
				<option value="<%= tutor.id %>"><%= tutor.person.fullname %></option>
				<% end %>
				</optgroup>
				<% end %>
				<% if @available[formatslot day, row] %>
				<optgroup name="Available">Available
				<% @available[formatslot day, row].each do |tutor| %>
				<option value="<%= tutor.id %>"><%= tutor.person.fullname %></option>
				<% end %>
				</optgroup>
				<% end %>
				<option>Unassigned</option>
			</select>
		</td>
		<% end%>
	</tr>
	<tr>
		<% @days.each do |day| %>
		<td  class="slot soda">
			<select name="<%= formatslot day, row + "S" %>" multiple="multiple">
				<% if @preferred[formatslot day, row] %>
				<optgroup name="Preferred">Preferred
				<% @preferred[formatslot day, row].each do |tutor| %>
				<option value="<%= tutor.id %>"><%= tutor.person.fullname %></option>
				<% end %>
				</optgroup>
				<% end %>
				<% if @available[formatslot day, row] %>
				<optgroup name="Available">Available
				<% @available[formatslot day, row].each do |tutor| %>
				<option value="<%= tutor.id %>"><%= tutor.person.fullname %></option>
				<% end %>
				</optgroup>
				<% end %>
				<option>Unassigned</option>
			</select>
		</td>
		<% end%>
	<% end %>
	</tr>
<% end %>
<input type="submit" value="Submit Schedule" />
</form>